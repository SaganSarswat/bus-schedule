no<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Laari ‚Äì Route Planner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #eef6fb;
  }

  /* Header */
  .topbar {
    display: flex;
aru
    align-items: center;
    padding: 14px;
    background: #ffffff;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
  }

  .logo {
    background: #4aa0e0;
    border-radius: 10px;
    padding: 6px;
    margin-right: 8px;
  }

  .title {
    font-size: 22px;
    font-weight: bold;
    color: #4aa0e0;
  }

  /* Card */
  .card {
    background: white;
    margin: 15px;
    padding: 16px;
    border-radius: 14px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  }

  .card-header {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
  }

  .card-header span {
    font-size: 22px;
    margin-right: 8px;
  }

  .subtitle {
    color: #6b8ca6;
    font-size: 14px;
    margin-bottom: 14px;
  }

  label {
    font-size: 14px;
    font-weight: bold;
    display: block;
    margin-top: 12px;
    margin-bottom: 5px;
  }

  select {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: none;
    background: #eaf3ff;
    font-size: 15px;
  }

  .checkbox-box {
    margin-top: 14px;
    padding: 14px;
    border-radius: 12px;
    border: 1px solid #cfe3f3;
    display: flex;
    gap: 10px;
  }

  .btn {
    margin-top: 16px;
    width: 100%;
    padding: 14px;
    background: #4aa0e0;
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
  }

  /* Results */
  .results {
    margin: 15px;
  }

  .result {
    background: white;
    padding: 12px;
    border-radius: 12px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  }

  .result img {
    width: 32px;
    height: 32px;
  }
.message {
  height: 200px;          /* or 100vh */
  display: flex;
  justify-content: center; /* horizontal center */
  align-items: center;     /* vertical center */
}
</style>
</head>

<body>

<!-- Header -->
<div class="topbar">
  <div class="logo">
    <img src="bus-stop (1).png" width="32" height="32">
  </div>
  <div class="title">Laari</div>
</div>
<div class="message"> I believe on Karm</div>
<!-- Planner -->
<div class="card">
  <div class="card-header">
    <span>üîÄ</span>
    <h2>Route Planner</h2>
  </div>

  <div class="subtitle">
    Find bus timings for your journey.
  </div>

  <label>Current Location</label>
  <select id="from"></select>

  <label>Destination</label>
  <select id="to"></select>

  <div class="checkbox-box">
    <input type="checkbox" id="fullDay">
    <div>
      <strong>Show full day schedule</strong>
      <small>Show all buses</small>
    </div>
  </div>

  <button class="btn" onclick="findBuses()">üîç Find Departures</button>
</div>

<!-- Results -->
<div class="results" id="results"></div>

<script>
let data = {};

// Load JSON
fetch("laari-data.json")
  .then(res => res.json())
  .then(json => {
    data = json;
    populateStops();
  })
  .catch(err => console.error("Error loading JSON:", err));

function populateStops() {
  const from = document.getElementById("from");
  const to = document.getElementById("to");

  from.innerHTML = `<option value="">Select location</option>`;
  to.innerHTML = `<option value="">Select destination</option>`;

  // Loop through busStops object
  for (const stopId in data.busStops) {
    const stop = data.busStops[stopId];
    from.innerHTML += `<option value="${stopId}">${stop.name}</option>`;
    to.innerHTML += `<option value="${stopId}">${stop.name}</option>`;
  }
}

function findBuses() {
  const from = document.getElementById("from").value;
  const to = document.getElementById("to").value;
  const results = document.getElementById("results");

  results.innerHTML = "";

  if (!from || !to) {
    results.innerHTML = "Please select both locations.";
    return;
  }

  // Convert routes object to array
  const validRoutes = Object.entries(data.routes)
    .filter(([routeId, route]) => 
      route.stopIds.includes(from) &&
      route.stopIds.includes(to) &&
      route.stopIds.indexOf(from) < route.stopIds.indexOf(to)
    );

  if (validRoutes.length === 0) {
    results.innerHTML = "No route found.";
    return;
  }

  validRoutes.forEach(([routeId, route]) => {
    // Convert buses object to array
    const busesOnRoute = Object.values(data.buses).filter(bus => bus.routeId === routeId);

    busesOnRoute.forEach(bus => {
      results.innerHTML += `
        <div class="result">
          <img src="bus-stop (1).png">
          <div>
            <strong>${bus.departureTime}</strong><br>
            ${bus.operator} ‚Ä¢ ${route.name}
          </div>
        </div>
      `;
    });
  });
}
</script>

</body>
</html>